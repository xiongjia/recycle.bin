# Protocol Buffer Basics: C++

## Build

- Requitments: CMake > 3.25; protobuf > 3.21  
- Build commands:

    ```bash
    mkdir build
    cd build
    cmake ../
    make
    ```

## protobuf-example.cpp

- In `SaveToFile()` function:
  - It creates a "person" object and add it to address book
  - save the address book to the output file.
- In `loadFromFile()` function:
  - It loads the address book from the output file.
  - print all the person info to console screen.

    ```bash
    ./protobuf-example-cc <output filename> 
    ```

## Files

- protobuf-example.cpp - the test functions
- addressbook.proto - the schema of the address book
- addressbook.pb.{cc,h} - These 2 files are generated by protoc
  
  ```bash
  protoc -I=$SRC_DIR --cpp_out=$DST_DIR $SRC_DIR/addressbook.proto
  ```

- CMakeLists.txt - the cmake build script.

## Reference

- [Protocol Buffer Basics: C++](https://developers.google.com/protocol-buffers/docs/cpptutorial)
